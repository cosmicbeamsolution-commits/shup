{"version":3,"sources":["webpack:///./src/components/Notification.vue?4e1f","webpack:///src/components/Notification.vue","webpack:///./src/components/Notification.vue?aa79","webpack:///./src/components/Notification.vue","webpack:///./node_modules/core-js/internals/number-parse-float.js","webpack:///./node_modules/core-js/modules/es.parse-float.js","webpack:///./src/views/Sales.vue?6eb3","webpack:///src/views/Sales.vue","webpack:///./src/views/Sales.vue?b5af","webpack:///./src/views/Sales.vue","webpack:///./node_modules/core-js/internals/number-parse-int.js","webpack:///./node_modules/core-js/modules/es.parse-int.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","isDismissed","_e","staticClass","on","dismiss","_t","attrs","_v","_s","action","name","staticRenderFns","props","dismissable","type","Boolean","default","Object","data","methods","component","global","trim","whitespaces","$parseFloat","parseFloat","FORCED","Infinity","module","exports","string","trimmedString","String","result","charAt","$","parseFloatImplementation","forced","slot","getData","_l","item","index","key","$event","showPartial","class","activeIndex","style","ratio_complete","total_complete","formatted_date","total","partial","sales","defaultOpenedDetails","onRowClass","scopedSlots","_u","fn","row","id","cancelled","_f","created","shop_name","customer","fullname","phone","address","address_extra","payment_mode","payment_complete","togglePaymentComplete","model","value","callback","$$v","$set","expression","count","price","components","NavBar","AsideMenu","HeroBar","CardComponent","CardWidget","Notification","isSaleBoxActive","isSaleDeliveryBoxActive","query","sockets","sale","hidden","classList","push","join","$store","dispatch","find","sort","res","length","map","e","date_group","keys","grouped","forEach","date","i","reverse","complete","parseInt","$parseInt","hex","radix","S","test","parseIntImplementation"],"mappings":"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","file":"js/chunk-d47dc1cc.781540d6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isDismissed)?_c('div',{staticClass:\"notification\"},[(_vm.dismissable)?_c('button',{staticClass:\"delete\",on:{\"click\":_vm.dismiss}}):_vm._e(),_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_vm._t(\"default\")],2)]),(_vm.action)?_c('div',{staticClass:\"level-right level-right-padded\"},[_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-small is-white\",attrs:{\"type\":\"button\"}},[_vm._v(_vm._s(_vm.action.name))])])]):_vm._e()])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"!isDismissed\" class=\"notification\">\n    <button v-if=\"dismissable\" @click=\"dismiss\" class=\"delete\"></button>\n    <div class=\"level\">\n      <div class=\"level-left\">\n        <div class=\"level-item\">\n          <slot/>\n        </div>\n      </div>\n      <div v-if=\"action\" class=\"level-right level-right-padded\">\n        <div class=\"level-item\">\n          <button type=\"button\" class=\"button is-small is-white\">{{ action.name }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Notification',\n  props: {\n    dismissable: {\n      type: Boolean,\n      default: true\n    },\n    action: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data () {\n    return {\n      isDismissed: false\n    }\n  },\n  methods: {\n    dismiss () {\n      this.isDismissed = true\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notification.vue?vue&type=template&id=81dec642&\"\nimport script from \"./Notification.vue?vue&type=script&lang=js&\"\nexport * from \"./Notification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-bar'),_c('aside-menu'),_c('hero-bar',[_c('b-icon',{attrs:{\"icon\":\"cash-usd\",\"size\":\"is-medium\"}}),_vm._v(\" Ventas \"),_c('div',{staticClass:\"buttons\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('a',{staticClass:\"button\",on:{\"click\":_vm.getData}},[_c('span',[_vm._v(\"Actualizar\")])])])],1),_c('section',{staticClass:\"section is-main-section\"},[_c('div',{staticClass:\"columns\"},_vm._l((_vm.data),function(item,index){return _c('div',{key:'statsKeys'+index,staticClass:\"column is-clickable\",on:{\"click\":function($event){return _vm.showPartial(index)}}},[_c('card-widget',{staticClass:\"tile is-child is-clickable\",class:{ 'is-active': _vm.activeIndex === index },style:(_vm.activeIndex === index && item.ratio_complete?'background: linear-gradient(to right,#02b875cc '+item.ratio_complete+'%,#02b875 '+item.ratio_complete+'%)':''),attrs:{\"type\":\"is-light\",\"icon\":\"cash-usd\",\"prefix\":\"$\",\"number\":item.total_complete,\"label\":item.formatted_date + ' $(' + item.total + ')'}})],1)}),0),(_vm.partial.sales)?_c('card-component',[_c('b-table',{staticClass:\"sales-table\",attrs:{\"data\":_vm.partial.sales,\"default-sort-direction\":\"desc\",\"default-sort\":\"id\",\"detail-key\":\"id\",\"opened-detailed\":_vm.defaultOpenedDetails,\"row-class\":_vm.onRowClass,\"detailed\":\"\",\"focusable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":\"#\",\"width\":\"40\",\"sortable\":\"\",\"numeric\":\"\",\"searchable\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"toy-brick\",\"type\":\"is-white\",\"size\":\"is-small\"}}),_vm._v(\" \"),_c('span',{staticClass:\"has-text-weight-bold\"},[_vm._v(\" \"+_vm._s(props.row.id))])],1),_c('b-table-column',{attrs:{\"field\":\"created\",\"label\":\"Solicitado\",\"sortable\":\"\",\"searchable\":\"\"}},[_c('span',{staticClass:\"tag has-text-weight-bold is-uppercase\",class:{ 'is-info': !props.row.cancelled, 'is-light': props.row.cancelled }},[_vm._v(_vm._s(_vm._f(\"adjustShortTZ\")(props.row.created)))])]),_c('b-table-column',{attrs:{\"field\":\"customer.shop_name\",\"label\":\"Tienda\",\"sortable\":\"\",\"searchable\":\"\"}},[_c('span',{staticClass:\"is-capitalized\"},[_vm._v(_vm._s(props.row.shop_name))])]),_c('b-table-column',{attrs:{\"field\":\"customer.fullname\",\"label\":\"Cliente\",\"sortable\":\"\",\"searchable\":\"\"}},[_c('span',{staticClass:\"is-capitalized\"},[_vm._v(_vm._s(props.row.customer.fullname))])]),_c('b-table-column',{attrs:{\"field\":\"customer.phone\",\"label\":\"Tel\",\"sortable\":\"\",\"searchable\":\"\"}},[_c('span',{staticClass:\"is-capitalized\"},[_vm._v(_vm._s(props.row.customer.phone))])]),_c('b-table-column',{attrs:{\"field\":\"customer.address\",\"label\":\"Dirección\",\"sortable\":\"\",\"searchable\":\"\"}},[_c('span',{staticClass:\"is-capitalized\"},[_vm._v(_vm._s(props.row.customer.address)+\" \"+_vm._s(props.row.customer.address_extra))])]),_c('b-table-column',{attrs:{\"field\":\"total\",\"label\":\"Total\",\"sortable\":\"\",\"numeric\":\"\",\"searchable\":\"\"}},[(props.row.payment_mode === 'cash')?_c('span',{staticClass:\"tag is-grey has-text-weight-bold\"},[_vm._v(\"EFECT\")]):_vm._e(),(props.row.payment_mode === 'bank')?_c('span',{staticClass:\"tag is-grey has-text-weight-bold\"},[_vm._v(\"CBU\")]):_vm._e(),(props.row.payment_mode === 'online')?_c('span',{staticClass:\"tag is-grey has-text-weight-bold\"},[_vm._v(\"ONLINE\")]):_vm._e(),_c('span',{staticClass:\"has-text-weight-bold has-text-grey\"},[_vm._v(\" $\"+_vm._s(props.row.total))])]),_c('b-table-column',{staticClass:\"is-actions-cell\",attrs:{\"label\":\"Cobrado\",\"numeric\":\"\"}},[_c('div',{staticClass:\"buttons is-right\"},[_c('b-switch',{attrs:{\"disabled\":props.row.cancelled || (props.row.payment_mode === 'online' && props.row.payment_complete)},on:{\"input\":function($event){return _vm.togglePaymentComplete(props.row)}},model:{value:(props.row.payment_complete),callback:function ($$v) {_vm.$set(props.row, \"payment_complete\", $$v)},expression:\"props.row.payment_complete\"}})],1)])]}},{key:\"detail\",fn:function(props){return [_c('table',{staticClass:\"table is-striped is-narrow\"},_vm._l((props.row.order),function(item,index){return _c('tr',{key:index},[_c('td',[_c('span',[_vm._v(_vm._s(item.name)+\" (\"+_vm._s(item.count)+\")\")])]),_c('td',[_c('span',[_vm._v(\"$\"+_vm._s(item.price))])])])}),0)]}}],null,false,2565871239)})],1):_c('notification',{staticClass:\"is-info\"},[_c('p',[_vm._v(\"No se registran ventas para este periodo\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav-bar/>\n    <aside-menu/>\n    <hero-bar>\n      <b-icon icon=\"cash-usd\" size=\"is-medium\"/>\n      Ventas\n      <div class=\"buttons\" slot=\"right\">\n        <a class=\"button\" @click=\"getData\">\n          <span>Actualizar</span>\n        </a>\n      </div>\n    </hero-bar>\n    <section class=\"section is-main-section\">\n      <div class=\"columns\">\n        <div v-for=\"(item, index) in data\" :key=\"'statsKeys'+index\" class=\"column is-clickable\" @click=\"showPartial(index)\">\n          <card-widget class=\"tile is-child is-clickable\" :class=\"{ 'is-active': activeIndex === index }\" type=\"is-light\" icon=\"cash-usd\" prefix=\"$\" :number=\"item.total_complete\" :label=\"item.formatted_date + ' $(' + item.total + ')'\" :style=\"activeIndex === index && item.ratio_complete?'background: linear-gradient(to right,#02b875cc '+item.ratio_complete+'%,#02b875 '+item.ratio_complete+'%)':''\"/>\n        </div>\n      </div>\n      <card-component v-if=\"partial.sales\">\n        <b-table\n          class=\"sales-table\"\n          :data=\"partial.sales\"\n          default-sort-direction=\"desc\"\n          default-sort=\"id\"\n          detail-key=\"id\"\n          :opened-detailed=\"defaultOpenedDetails\"\n          :row-class=\"onRowClass\"\n          detailed\n          focusable>\n          <template slot-scope=\"props\">\n            <b-table-column field=\"id\" label=\"#\" width=\"40\" sortable numeric searchable>\n              <b-icon icon=\"toy-brick\" type=\"is-white\" size=\"is-small\"/> <span class=\"has-text-weight-bold\"> {{ props.row.id }}</span>\n            </b-table-column>\n            <b-table-column field=\"created\" label=\"Solicitado\" sortable searchable>\n              <span class=\"tag has-text-weight-bold is-uppercase\" :class=\"{ 'is-info': !props.row.cancelled, 'is-light': props.row.cancelled }\">{{ props.row.created | adjustShortTZ }}</span>\n            </b-table-column>\n            <b-table-column field=\"customer.shop_name\" label=\"Tienda\" sortable searchable>\n              <span class=\"is-capitalized\">{{ props.row.shop_name }}</span>\n            </b-table-column>\n            <b-table-column field=\"customer.fullname\" label=\"Cliente\" sortable searchable>\n              <span class=\"is-capitalized\">{{ props.row.customer.fullname }}</span>\n            </b-table-column>\n            <b-table-column field=\"customer.phone\" label=\"Tel\" sortable searchable>\n              <span class=\"is-capitalized\">{{ props.row.customer.phone }}</span>\n            </b-table-column>\n            <b-table-column field=\"customer.address\" label=\"Dirección\" sortable searchable>\n              <span class=\"is-capitalized\">{{ props.row.customer.address }} {{ props.row.customer.address_extra }}</span>\n            </b-table-column>\n            <b-table-column field=\"total\" label=\"Total\" sortable numeric searchable>\n              <span v-if=\"props.row.payment_mode === 'cash'\" class=\"tag is-grey has-text-weight-bold\">EFECT</span>\n              <span v-if=\"props.row.payment_mode === 'bank'\" class=\"tag is-grey has-text-weight-bold\">CBU</span>\n              <span v-if=\"props.row.payment_mode === 'online'\" class=\"tag is-grey has-text-weight-bold\">ONLINE</span>\n              <span class=\"has-text-weight-bold has-text-grey\"> ${{ props.row.total }}</span>\n            </b-table-column>\n            <b-table-column label=\"Cobrado\" class=\"is-actions-cell\" numeric>\n              <div class=\"buttons is-right\">\n                <b-switch v-model=\"props.row.payment_complete\" @input=\"togglePaymentComplete(props.row)\" :disabled=\"props.row.cancelled || (props.row.payment_mode === 'online' && props.row.payment_complete)\"></b-switch>\n              </div>\n            </b-table-column>\n          </template>\n          <template slot=\"detail\" slot-scope=\"props\">\n            <table class=\"table is-striped is-narrow\">\n              <tr v-for=\"(item, index) in props.row.order\" :key=\"index\">\n                <td>\n                  <span>{{ item.name }} ({{ item.count }})</span>\n                </td>\n                <td>\n                  <span>${{ item.price }}</span>\n                </td>\n              </tr>\n            </table>\n          </template>\n        </b-table>\n      </card-component>\n      <notification v-else class=\"is-info\">\n        <p>No se registran ventas para este periodo</p>\n      </notification>\n    </section>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport NavBar from '@/components/NavBar'\nimport AsideMenu from '@/components/AsideMenu'\nimport CardComponent from '@/components/CardComponent'\nimport HeroBar from '@/components/HeroBar'\nimport CardWidget from '@/components/CardWidget'\nimport Notification from '@/components/Notification'\nexport default {\n  name: 'Sales',\n  components: {\n    NavBar,\n    AsideMenu,\n    HeroBar,\n    CardComponent,\n    CardWidget,\n    Notification\n  },\n  data () {\n    return {\n      isSaleBoxActive: false,\n      isSaleDeliveryBoxActive: false,\n      defaultOpenedDetails: [],\n      activeIndex: 0,\n      query: '',\n      item: {},\n      data: [],\n      partial: []\n    }\n  },\n  sockets: {\n    sale (data) {\n      this.getData()\n    }\n  },\n  created () {\n    this.getData()\n  },\n  methods: {\n    onRowClass: function (item, index) {\n      let classList = []\n      if (item.hidden) {\n        classList.push('is-hidden')\n      }\n      if (item.cancelled) {\n        classList.push('is-cancelled')\n      }\n      return classList.join(' ')\n    },\n    showPartial (index) {\n      this.activeIndex = index\n      this.partial = this.data[index]\n    },\n    getData () {\n      this.$store.dispatch('loaded', false)\n      axios.post('/sales/sort', {\n        find: {},\n        sort: { created: 1 }\n      }).then(res => {\n        if (res.data.length) {\n          this.data = []\n          res.data.map(e => {\n            e.date_group = moment(e.created).format('YYYY-MM')\n            return e\n          })\n          let grouped = this.$root.groupBy(res.data, 'date_group')\n          Object.keys(grouped).forEach(i => {\n            let row = grouped[i]\n            let complete = row.filter(e => e.payment_complete && !e.cancelled).reduce((acc, e) => acc + parseFloat(e.total), 0)\n            let total = row.filter(e => !e.cancelled).reduce((acc, e) => acc + parseInt(e.total) || 0, 0)\n            this.data.push({\n              date: i,\n              formatted_date: moment(i).format('MMM YYYY').toUpperCase(),\n              sales: row.reverse(),\n              total: total,\n              total_complete: complete,\n              ratio_complete: parseInt(complete / total * 100)\n            })\n            this['statsKeys' + this.data.length - 1] = 0\n          })\n          this.showPartial(this.data.length - 1)\n        }\n        this.$store.dispatch('loaded', true)\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sales.vue?vue&type=template&id=c8068a1c&\"\nimport script from \"./Sales.vue?vue&type=script&lang=js&\"\nexport * from \"./Sales.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n","var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.github.io/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n"],"sourceRoot":""}