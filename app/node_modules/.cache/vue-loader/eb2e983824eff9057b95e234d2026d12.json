{"remainingRequest":"/var/www/geotiendas/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/geotiendas/app/src/views/Plans.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/geotiendas/app/src/views/Plans.vue","mtime":1764593667344},{"path":"/var/www/geotiendas/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/geotiendas/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/geotiendas/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/geotiendas/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKaW1wb3J0IENhcmRDb21wb25lbnQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkQ29tcG9uZW50JwppbXBvcnQgR3Jvd2luZ051bWJlciBmcm9tICdAL2NvbXBvbmVudHMvR3Jvd2luZ051bWJlcicKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYW5kaW5nJywKICBjb21wb25lbnRzOiB7CiAgICBDYXJkQ29tcG9uZW50LAogICAgR3Jvd2luZ051bWJlcgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsKICAgICAgJ2Jhc2ljJwogICAgXSkKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgdXBkYXRlUHJpY2VLZXk6IDAsCiAgICAgIG1vcmVQbGFuRmVhdHVyZXM6IFtdLAogICAgICBwbGFuUGVyaW9kOiAnbWVzJywKICAgICAgcGxhblByaWNlOiB7fSwKICAgICAgcGxhblRvdGFsOiB7fQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBpZiAodGhpcy5iYXNpYy5sYW5kaW5nLnBsYW5zKSB7CiAgICAgIE9iamVjdC5rZXlzKHRoaXMuYmFzaWMubGFuZGluZy5wbGFucykuZm9yRWFjaChlID0+IHsKICAgICAgICB0aGlzLiRzZXQodGhpcy5tb3JlUGxhbkZlYXR1cmVzLCBlLCBmYWxzZSkKICAgICAgfSkKICAgICAgdGhpcy51cGRhdGVQbGFuUGVyaW9kKHRoaXMucGxhblBlcmlvZCwgdHJ1ZSkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHBsYW5TdGFydCAocGxhbikgewogICAgICAvLyB3aW5kb3cuZmJxKCd0cmFja0N1c3RvbScsICdwbGFuU3RhcnQnLCB7IHBsYW46IHBsYW4gfSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jcmVhLXR1LXRpZW5kYScpCiAgICB9LAogICAgdG9nZ2xlTW9yZVBsYW5GZWF0dXJlcyAocGxhbiwgaW5kZXgpIHsKICAgICAgaWYgKHRoaXMubW9yZVBsYW5GZWF0dXJlc1tpbmRleF0pIHsKICAgICAgICAvLyB3aW5kb3cuZmJxKCd0cmFja0N1c3RvbScsICdwbGFuQWR2YW5jZWRGZWF0dXJlZCcsIHsgcGxhbjogcGxhbiB9KQogICAgICB9CiAgICAgIHRoaXMubW9yZVBsYW5GZWF0dXJlc1tpbmRleF0gPSAhdGhpcy5tb3JlUGxhbkZlYXR1cmVzW2luZGV4XQogICAgfSwKICAgIHVwZGF0ZVBsYW5QZXJpb2QgKHBlcmlvZCwgc2tpcEZicSkgewogICAgICBpZiAoIXNraXBGYnEpIHsKICAgICAgICAvLyB3aW5kb3cuZmJxKCd0cmFja0N1c3RvbScsICdwbGFuUGVyaW9kJywgeyBwZXJpb2Q6IHBlcmlvZCB9KQogICAgICB9CiAgICAgIE9iamVjdC5rZXlzKHRoaXMuYmFzaWMubGFuZGluZy5wbGFucykuZm9yRWFjaChlID0+IHsKICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5iYXNpYy5sYW5kaW5nLnBsYW5zW2VdCiAgICAgICAgbGV0IHRvdGFsID0gaXRlbS5wcmljZQogICAgICAgIGxldCBwcmljZSA9IGl0ZW0ucHJpY2UKICAgICAgICBpZiAocGVyaW9kID09PSAnc2VtZXN0cmFsJykgewogICAgICAgICAgdG90YWwgKj0gNgogICAgICAgICAgdG90YWwgKj0gMSAtIChpdGVtLmJpYW5udWFsX2Rpc2NvdW50IC8gMTAwKQogICAgICAgICAgcHJpY2UgPSBwYXJzZUludCh0b3RhbCAvIDYpCiAgICAgICAgfSBlbHNlIGlmIChwZXJpb2QgPT09ICdhbnVhbCcpIHsKICAgICAgICAgIHRvdGFsICo9IDEyCiAgICAgICAgICB0b3RhbCAqPSAxIC0gKGl0ZW0uYW5udWFsX2Rpc2NvdW50IC8gMTAwKQogICAgICAgICAgcHJpY2UgPSBwYXJzZUludCh0b3RhbCAvIDEyKQogICAgICAgIH0KICAgICAgICB0aGlzLiRzZXQodGhpcy5wbGFuUHJpY2UsIGUsIHBhcnNlSW50KHByaWNlKSkKICAgICAgICB0aGlzLiRzZXQodGhpcy5wbGFuVG90YWwsIGUsIHBhcnNlSW50KHRvdGFsKSkKICAgICAgfSkKICAgICAgdGhpcy51cGRhdGVQcmljZUtleSsrCiAgICAgIHRoaXMucGxhblBlcmlvZCA9IHBlcmlvZAogICAgfQogIH0KfQo="},{"version":3,"sources":["Plans.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Plans.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <section class=\"hero is-info\">\n      <div class=\"container content is-vexpanded\">\n        <div class=\"section field is-hidden-touch\">\n          <h1 class=\"has-text-white has-text-centered is-size-1 has-text-weight-bold\">{{ basic.landing.plansTitle}}</h1>\n          <p class=\"has-text-white has-text-weight-medium  has-text-centered is-size-5\">{{ basic.landing.plansText }}</p>\n        </div>\n        <div class=\"section field is-hidden-desktop\">\n          <h1 class=\"has-text-white has-text-weight-bold\">{{ basic.landing.plansTitle}}</h1>\n          <p class=\"has-text-white has-text-weight-medium\">{{ basic.landing.plansText }}</p>\n        </div>\n        <div class=\"buttons has-border-collapse has-addons is-flex-center has-plans-buttons\">\n          <button class=\"button\" :class=\"{ 'is-white': planPeriod === 'mes', 'is-grey': planPeriod !== 'mes' }\" @click.prevent=\"updatePlanPeriod('mes')\">Mensual</button>\n          <button class=\"button\" :class=\"{ 'is-white': planPeriod === 'semestral', 'is-grey': planPeriod !== 'semestral' }\" @click.prevent=\"updatePlanPeriod('semestral')\">Semestral</button>\n          <button class=\"button\" :class=\"{ 'is-white': planPeriod === 'anual', 'is-grey': planPeriod !== 'anual' }\" @click.prevent=\"updatePlanPeriod('anual')\">Anual</button>\n        </div>\n        <div class=\"columns is-plans-cards is-centered is-vexpanded\">\n          <div v-for=\"(item, index) in basic.landing.plans\" :key=\"index\" class=\"column\">\n            <card-component>\n              <h3 class=\"has-text-centered is-size-3\">{{ item.title }}</h3>\n              <p class=\"has-text-centered\">{{ item.text }}</p>\n              <h1 class=\"has-text-centered is-size-2\">\n                <growing-number :key=\"updatePriceKey\" :value=\"parseInt(planTotal[index])\" prefix=\"$\" :suffix=\"planPeriod\"/>\n              </h1>\n              <div v-show=\"planPeriod !== 'mes'\" class=\"has-text-centered animated fadeIn\">\n                <span class=\"has-text-success has-text-weight-bold is-size-5\">${{ planPrice[index] | formatNumber }}/mes</span>\n              </div>\n              <hr>\n              <div v-for=\"(feature, index2) in item.features\" :key=\"index2\">\n                <b-icon icon=\"progress-check\" class=\"is-fixed-icon has-text-success\"/> <span>{{ feature }}</span>\n              </div>\n              <div v-show=\"morePlanFeatures[index]\" v-for=\"(feature, index2) in item.morefeatures\" :key=\"`m${index2}`\">\n                <b-icon icon=\"progress-check\" class=\"is-fixed-icon has-text-success\"/> <span>{{ feature }}</span>\n              </div>\n              <div class=\"column has-text-centered\">\n                <span v-show=\"!morePlanFeatures[index]\" class=\"has-text-info is-clickable\" @click=\"toggleMorePlanFeatures(item.title, index)\">Mostrar m√°s</span>\n                <span v-show=\"morePlanFeatures[index]\" class=\"has-text-info is-clickable\" @click=\"toggleMorePlanFeatures(item.title, index)\">Mostrar menos</span>\n              </div>\n              <hr>\n              <div class=\"buttons is-flex-center\">\n                <a @click=\"planStart(item.title)\" class=\"button is-info\">\n                  <span>Comenzar</span>\n                </a>\n              </div>\n            </card-component>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport CardComponent from '../components/CardComponent'\nimport GrowingNumber from '@/components/GrowingNumber'\nexport default {\n  name: 'landing',\n  components: {\n    CardComponent,\n    GrowingNumber\n  },\n  computed: {\n    ...mapState([\n      'basic'\n    ])\n  },\n  data () {\n    return {\n      updatePriceKey: 0,\n      morePlanFeatures: [],\n      planPeriod: 'mes',\n      planPrice: {},\n      planTotal: {}\n    }\n  },\n  created () {\n    if (this.basic.landing.plans) {\n      Object.keys(this.basic.landing.plans).forEach(e => {\n        this.$set(this.morePlanFeatures, e, false)\n      })\n      this.updatePlanPeriod(this.planPeriod, true)\n    }\n  },\n  methods: {\n    planStart (plan) {\n      // window.fbq('trackCustom', 'planStart', { plan: plan })\n      this.$router.push('/crea-tu-tienda')\n    },\n    toggleMorePlanFeatures (plan, index) {\n      if (this.morePlanFeatures[index]) {\n        // window.fbq('trackCustom', 'planAdvancedFeatured', { plan: plan })\n      }\n      this.morePlanFeatures[index] = !this.morePlanFeatures[index]\n    },\n    updatePlanPeriod (period, skipFbq) {\n      if (!skipFbq) {\n        // window.fbq('trackCustom', 'planPeriod', { period: period })\n      }\n      Object.keys(this.basic.landing.plans).forEach(e => {\n        const item = this.basic.landing.plans[e]\n        let total = item.price\n        let price = item.price\n        if (period === 'semestral') {\n          total *= 6\n          total *= 1 - (item.biannual_discount / 100)\n          price = parseInt(total / 6)\n        } else if (period === 'anual') {\n          total *= 12\n          total *= 1 - (item.annual_discount / 100)\n          price = parseInt(total / 12)\n        }\n        this.$set(this.planPrice, e, parseInt(price))\n        this.$set(this.planTotal, e, parseInt(total))\n      })\n      this.updatePriceKey++\n      this.planPeriod = period\n    }\n  }\n}\n</script>\n"]}]}