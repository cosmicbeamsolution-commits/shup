{"remainingRequest":"/var/www/geotiendas/app/node_modules/babel-loader/lib/index.js!/var/www/geotiendas/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/geotiendas/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/geotiendas/app/src/views/ShopCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/geotiendas/app/src/views/ShopCreate.vue","mtime":1764593667360},{"path":"/var/www/geotiendas/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/geotiendas/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/geotiendas/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/geotiendas/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2dlb3RpZW5kYXMvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IENhcmRDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL0NhcmRDb21wb25lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Nob3BfY3JlYXRlJywKICBjb21wb25lbnRzOiB7CiAgICBDYXJkQ29tcG9uZW50OiBDYXJkQ29tcG9uZW50CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydiYXNpYycsICdzaG9wJ10pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIHNob3A6ICcnLAogICAgICAgIGNvdW50cnlfaXNvOiAnJywKICAgICAgICBjb3VudHJ5OiAnJwogICAgICB9LAogICAgICBhbGxvd2VkQ291bnRyaWVzOiBbJ2FyJ10sCiAgICAgIGNsb2NrOiAwLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBzaG9wTG9hZGluZzogZmFsc2UsCiAgICAgIGNoZWNraW5nU3RhdHVzOiBmYWxzZSwKICAgICAgc2hvcE5hbWVTdGF0dXM6IHt9LAogICAgICBsYXN0SWQ6IG51bGwsCiAgICAgIHNob3BOYW1lVmFyczogewogICAgICAgIG1pbjogMywKICAgICAgICBtYXg6IDE2CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLiRyZWZzLmF1dG9mb2N1cy5mb2N1cygpOwogICAgfSk7CgogICAgaWYgKHRoaXMuYmFzaWMubG9jYWxlKSB7CiAgICAgIHRoaXMuZm9ybS5jb3VudHJ5X2lzbyA9IHRoaXMuYmFzaWMubG9jYWxlLmNvdW50cnlfaXNvOwogICAgICB0aGlzLmZvcm0uY291bnRyeSA9IHRoaXMuYmFzaWMubG9jYWxlLmNvdW50cnk7CiAgICB9CgogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5uYW1lKSB7CiAgICAgIHRoaXMuZm9ybS5zaG9wID0gdGhpcy4kcm91dGUucGFyYW1zLm5hbWU7CiAgICAgIHRoaXMuY2hlY2tTaG9wVGl0bGUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrU2hvcFRpdGxlOiBmdW5jdGlvbiBjaGVja1Nob3BUaXRsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jbG9jaykgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jbG9jayk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xvY2sgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZm9ybS5pZCA9IF90aGlzMi5mb3JtLnNob3Aubm9ybWFsaXplKCdORktEJykucmVwbGFjZSgvW15cd118Xy9nLCAnJykudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgX3RoaXMyLmNoZWNrc2hvcE5hbWVTdGF0dXMoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgY2hlY2tzaG9wTmFtZVN0YXR1czogZnVuY3Rpb24gY2hlY2tzaG9wTmFtZVN0YXR1cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5sYXN0SWQgIT09IHRoaXMuZm9ybS5pZCkgewogICAgICAgIHRoaXMuc2hvcE5hbWVTdGF0dXMgPSB7fTsKICAgICAgICB0aGlzLmNoZWNraW5nU3RhdHVzID0gdHJ1ZTsKICAgICAgICB0aGlzLmxhc3RJZCA9IHRoaXMuZm9ybS5pZDsKCiAgICAgICAgaWYgKHRoaXMuZm9ybS5pZC5sZW5ndGggPCB0aGlzLnNob3BOYW1lVmFycy5taW4gfHwgdGhpcy5mb3JtLmlkLmxlbmd0aCA+IHRoaXMuc2hvcE5hbWVWYXJzLm1heCkgewogICAgICAgICAgdGhpcy5zaG9wTmFtZVN0YXR1cyA9IHsKICAgICAgICAgICAgc3RhdHVzOiAnZGFuZ2VyJywKICAgICAgICAgICAgbWVzc2FnZTogIkVsIG5vbWJyZSBkZSBsYSBnZW90aWVuZGEgZGViZSB0ZW5lciBhbCBtZW5vcyAiLmNvbmNhdCh0aGlzLnNob3BOYW1lVmFycy5taW4sICIgeSBtXHhFMXhpbW8gIikuY29uY2F0KHRoaXMuc2hvcE5hbWVWYXJzLm1heCwgIiBjYXJhY3RlcmVzLiAiKS5jb25jYXQodGhpcy5mb3JtLmlkLCAiIGNvbnRpZW5lICIpLmNvbmNhdCh0aGlzLmZvcm0uaWQubGVuZ3RoKQogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuY2hlY2tpbmdTdGF0dXMgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXhpb3MucG9zdCgnL3Nob3BzL2NoZWNrbmFtZScsIHsKICAgICAgICAgICAgaWQ6IHRoaXMuZm9ybS5pZAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMy5zaG9wTmFtZVN0YXR1cyA9IHJlcy5kYXRhOwogICAgICAgICAgICBfdGhpczMuY2hlY2tpbmdTdGF0dXMgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5hbGxvd2VkQ291bnRyaWVzLmluY2x1ZGVzKHRoaXMuZm9ybS5jb3VudHJ5X2lzbykpIHsKICAgICAgICByZXR1cm4gdGhpcy4kYnVlZnkudG9hc3Qub3Blbih7CiAgICAgICAgICBtZXNzYWdlOiAiTGFtZW50YWJsZW1lbnRlIHRvZGF2XHhFRGEgbm8gdGVuZW1vcyBwcmVzZW5jaWEgZW4gdHUgcGFceEVEcyAiLmNvbmNhdCh0aGlzLmZvcm0uY291bnRyeSwgIi4gVGFsIHZleiBkZW50cm8gZGUgcG9jbywgbWFudGVudGUgaW5mb3JtYWRvIGFjZXJjYSBkZSBudWVzdHJhcyBub3ZlZGFkZXMuIiksCiAgICAgICAgICBkdXJhdGlvbjogMTUwMDAKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2hvcE5hbWVTdGF0dXMuc3RhdHVzICE9PSAnc3VjY2VzcycpIHsKICAgICAgICB0aGlzLnNob3BOYW1lU3RhdHVzID0ge307CiAgICAgICAgcmV0dXJuIHRoaXMuJGJ1ZWZ5LnRvYXN0Lm9wZW4oewogICAgICAgICAgbWVzc2FnZTogIlJldmlzXHhFMSBlbCB1c3VhcmlvIGRlIGxhIHRpZW5kYSB5IHZvbHZceEU5IGEgaW50ZW50YXIiCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdCgiL3Nob3BzL2NyZWF0ZSIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICAvLyB3aW5kb3cuZmJxKCd0cmFja0N1c3RvbScsICdzaG9wQ3JlYXRlZCcsIHRoaXMuZm9ybSkKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzaG9wJywgSlNPTi5zdHJpbmdpZnkoX3RoaXM0LmZvcm0pKTsKCiAgICAgICAgICBfdGhpczQuJHJvdXRlci5wdXNoKCcvdGllbmRhLWNyZWFkYScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB2YXIgcGFydHMgPSByZXMuZGF0YS5tZXNzYWdlLnNwbGl0KCcuICcpOwogICAgICAgICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczQuJGJ1ZWZ5LnRvYXN0Lm9wZW4oewogICAgICAgICAgICAgIG1lc3NhZ2U6IGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczQuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzNC4kYnVlZnkudG9hc3Qub3Blbih7CiAgICAgICAgICBtZXNzYWdlOiAiSHVibyB1biBlcnJvciBhbCBjcmVhciBsYSBnZW90aWVuZGEuIFBvciBmYXZvciwgaW50ZW50XHhFMSBudWV2YW1lbnRlIGVuIHVub3MgaW5zdGFudGVzLiBFcnJvcjogIi5jb25jYXQoZXJyKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmJhY2soKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ShopCreate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <section class=\"hero is-top\">\n      <div class=\"content\">\n        <card-component :is-float=\"true\" :is-centered=\"true\">\n          <div v-show=\"!allowedCountries.includes(form.country_iso)\">\n            <h2>\n              <b-icon type=\"is-danger\" size=\"is-medium\" icon=\"map-marker-remove-variant\"/> <span class=\"has-text-danger\">Aún no disponible en {{ form.country }}</span>\n            </h2>\n            <p>Lamentamos informarte que todavía no tenemos presencia en {{ form.country }}. A través de nuestros servidores detectamos el origen geográfico de las solicitudes de tiendas. De esta manera solo permitimos que los solicitantes de países habilitados peudan registarse. Mantente informado a través de nuestro blog acerca de las últimas novedades para saber cuando llegaremos a tu país. Disculpas por las molestias ocasionadas.</p>\n            <div class=\"column has-text-centered\">\n              <img :src=\"`${$store.state.endpoint}/img/flags/${form.country_iso}.svg`\" width=\"160\"/>\n            </div>\n          </div>\n          <div v-show=\"allowedCountries.includes(form.country_iso)\">\n            <h2 class=\"has-text-weight-bold\">\n              Creá tu tienda\n            </h2>\n            <p>Completá este breve formulario y te enviaremos un correo con un enlace para que empieces a cargar y configurar tu tienda sin necesidad de iniciar sesión.</p>\n            <form class=\"form is-margin-top\" @submit.prevent=\"submit\">\n              <div class=\"columns\">\n                <div class=\"column\">\n                  <b-notification :type=\"'is-' + shopNameStatus.status + ' is-light'\" aria-close-label=\"Close notification\" v-show=\"shopNameStatus.message\">\n                    <span class=\"has-text-weight-bold\" v-html=\"shopNameStatus.message\"></span>\n                  </b-notification>\n                  <div class=\"control\">\n                    <b-field label=\"Nombre de tu marca\" expanded>\n                      <div class=\"control\" :class=\"{ 'is-loading': checkingStatus }\">\n                        <input v-model=\"form.shop\" ref=\"autofocus\" type=\"text\" class=\"input\" placeholder=\"Delicity\" @keyup=\"checkShopTitle\" :disabled=\"isLoading\" required />\n                      </div>\n                    </b-field>\n                  </div>\n                  <div class=\"control\">\n                    <b-field label=\"Tu email\" expanded>\n                      <b-input v-model=\"form.email\" type=\"email\" placeholder=\"juanmanuel@gmail.com\" :disabled=\"isLoading\" required />\n                    </b-field>\n                  </div>\n                  <div class=\"control\">\n                    <b-field label=\"Creá tu contraseña\" message=\"Creá una nueva contraseña exclusiva para geotiendas\" expanded>\n                      <b-input v-model=\"form.password\" type=\"password\" placeholder=\"********\" :disabled=\"isLoading\" password-reveal></b-input>\n                    </b-field>\n                  </div>\n                </div>\n                <div class=\"column is-hidden-mobile\">\n                  <div class=\"has-text-centered is-vpadded\">\n                    <img src=\"/img/art/team.svg\" width=\"320\"/>\n                  </div>\n                </div>\n              </div>\n              <div class=\"buttons is-flex-center\">\n                <b-button native-type=\"submit\" type=\"is-info\" :loading=\"isLoading\">\n                  <span v-show=\"!form.shop.length\" class=\"has-text-weight-bold\"> Crear mi tienda</span>\n                  <span v-show=\"form.shop.length\" class=\"has-text-weight-bold\"> Crear tienda <i>{{ form.shop }}</i></span>\n                </b-button>\n              </div>\n            </form>\n          </div>\n        </card-component>\n        <div class=\"buttons is-flex-center\">\n          <b-button icon-left=\"backspace\" @click=\"goBack()\">\n            <span class=\"\">Volver</span>\n          </b-button>\n          <a :href=\"$store.state.panel\" class=\"button\" target=\"_blank\">\n            <span class=\"has-text-weight-bold\">Ya tengo una tienda</span>\n          </a>\n          <a :href=\"$store.state.panel + '/olvide-contrasena'\" class=\"button\" target=\"_blank\">\n            <span class=\"has-text-weight-bold\">Olvidé mi contraseña</span>\n          </a>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport axios from 'axios'\nimport CardComponent from '@/components/CardComponent'\nexport default {\n  name: 'shop_create',\n  components: {\n    CardComponent\n  },\n  computed: {\n    ...mapState([\n      'basic',\n      'shop'\n    ])\n  },\n  data () {\n    return {\n      form: {\n        shop: '',\n        country_iso: '',\n        country: ''\n      },\n      allowedCountries: ['ar'],\n      clock: 0,\n      isLoading: false,\n      shopLoading: false,\n      checkingStatus: false,\n      shopNameStatus: {},\n      lastId: null,\n      shopNameVars: {\n        min: 3,\n        max: 16\n      }\n    }\n  },\n  created () {\n    this.$nextTick(() => {\n      this.$refs.autofocus.focus()\n    })\n    if (this.basic.locale) {\n      this.form.country_iso = this.basic.locale.country_iso\n      this.form.country = this.basic.locale.country\n    }\n    if (this.$route.params.name) {\n      this.form.shop = this.$route.params.name\n      this.checkShopTitle()\n    }\n  },\n  methods: {\n    checkShopTitle () {\n      if (this.clock) {\n        clearInterval(this.clock)\n      }\n      this.clock = setTimeout(() => {\n        this.form.id = this.form.shop.normalize('NFKD').replace(/[^\\w]|_/g, '').toLowerCase()\n        this.checkshopNameStatus()\n      }, 1000)\n    },\n    checkshopNameStatus () {\n      if (this.lastId !== this.form.id) {\n        this.shopNameStatus = {}\n        this.checkingStatus = true\n        this.lastId = this.form.id\n        if (this.form.id.length < this.shopNameVars.min || this.form.id.length > this.shopNameVars.max) {\n          this.shopNameStatus = {\n            status: 'danger',\n            message: `El nombre de la geotienda debe tener al menos ${this.shopNameVars.min} y máximo ${this.shopNameVars.max} caracteres. ${this.form.id} contiene ${this.form.id.length}`\n          }\n          this.checkingStatus = false\n        } else {\n          axios.post('/shops/checkname', { id: this.form.id }).then(res => {\n            this.shopNameStatus = res.data\n            this.checkingStatus = false\n          })\n        }\n      }\n    },\n    submit () {\n      if (!this.allowedCountries.includes(this.form.country_iso)) {\n        return this.$buefy.toast.open({\n          message: `Lamentablemente todavía no tenemos presencia en tu país ${this.form.country}. Tal vez dentro de poco, mantente informado acerca de nuestras novedades.`,\n          duration: 15000\n        })\n      }\n      if (this.shopNameStatus.status !== 'success') {\n        this.shopNameStatus = {}\n        return this.$buefy.toast.open({\n          message: `Revisá el usuario de la tienda y volvé a intentar`\n        })\n      }\n      this.isLoading = true\n      axios.post(`/shops/create`, this.form).then(res => {\n        if (res.data.status === 'success') {\n          // window.fbq('trackCustom', 'shopCreated', this.form)\n          localStorage.setItem('shop', JSON.stringify(this.form))\n          this.$router.push('/tienda-creada')\n        } else {\n          this.isLoading = false\n          let parts = res.data.message.split('. ')\n          parts.forEach(e => {\n            this.$buefy.toast.open({\n              message: e\n            })\n          })\n        }\n      }).catch(err => {\n        this.isLoading = false\n        this.$buefy.toast.open({\n          message: `Hubo un error al crear la geotienda. Por favor, intentá nuevamente en unos instantes. Error: ${err}`\n        })\n      })\n    },\n    goBack () {\n      this.$router.back()\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}