(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d944a9d"],{"4c7d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("pay-selection-box",{attrs:{"is-active":t.isPayModalActive},on:{cancel:t.payBoxCancel,"pay-select":t.payBoxSelect}}),s("header-component"),s("div",{staticClass:"is-bottom-extra-extra-padded animated fadeIn"},[s("card-component",{staticClass:"is-white",attrs:{"is-float":!0,"is-narrow":!0,"is-centered":!0}},[s("h3",{staticClass:"is-special-title has-text-centered"},[t._v("Detalle de tu cotización")]),s("table",{staticClass:"table is-striped is-fullwidth"},[s("tr",[s("td",{attrs:{width:"1%"}},[s("b-icon",{attrs:{icon:"toy-brick",size:"is-small",type:"is-grey"}})],1),s("td",[s("p",[t._v(t._s(t.data.id))])])]),s("tr",[s("td",{attrs:{width:"1%"}},[s("b-icon",{attrs:{icon:"clock",size:"is-small",type:"is-grey"}})],1),s("td",[s("p",[t._v(t._s(t._f("adjustTZ")(t.data.created))+" ("+t._s(t._f("fromNow")(t.data.created))+")")])])]),t.data.order[0]?s("tr",[s("td",{attrs:{width:"1%"}},[s("b-icon",{attrs:{icon:"credit-card",size:"is-small",type:"is-grey"}})],1),s("td",[s("p",[t._v(t._s(t.data.order[0].name))])])]):t._e(),s("tr",[s("td",{attrs:{width:"1%"}},[s("b-icon",{attrs:{icon:"account",size:"is-small",type:"is-grey"}})],1),s("td",[s("p",[t._v(t._s(t.data.customer.fullname))])])]),s("tr",[s("td",{attrs:{width:"1%"}},[s("b-icon",{attrs:{icon:"comment",size:"is-small",type:"is-grey"}})],1),s("td",[s("p",[t._v(t._s(t.data.text))])])])])])],1),s("notification",{staticClass:"is-dark animate delay-1s slideInUp"},[s("div",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-item level-left"},[s("span",{staticClass:"icon"},[s("span",{staticClass:"mdi mdi-shopping-outline mdi-36px is-relative"},[s("span",{staticClass:"tag is-success order-size-tag has-text-weight-bold"},[t._v("1")])])])]),s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-small is-info",attrs:{type:"button"},on:{click:function(e){return t.paySelectionModal()}}},[s("span",{staticClass:"is-size-6 is-line-height1"},[t._v("Contratar")])])]),s("div",{staticClass:"level-item level-right"},[s("div",{staticClass:"is-transparent order-total"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.orderSum,expression:"orderSum"}],staticClass:"has-text-weight-bold"},[t._v("($"+t._s(t.orderSum)+")")])])])])])],1)},i=[],o=s("5530"),n=s("2f62"),c=s("bc3a"),l=s.n(c),r=s("f983"),d=s("6df7"),u=s("ac23"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isDismissed?t._e():s("div",{staticClass:"notification is-notification-fixed"},[t._t("default")],2)},m=[],h={name:"Notification",data:function(){return{isDismissed:!1}},methods:{ready:function(){this.$emit("ready")},dismiss:function(){this.isDismissed=!0,this.$buefy.snackbar.open({message:"Dismissed",queue:!1})}}},v=h,f=s("2877"),b=Object(f["a"])(v,p,m,!1,null,null,null),y=b.exports,C={name:"quote",components:{CardComponent:d["a"],HeaderComponent:r["a"],PaySelectionBox:u["a"],Notification:y},data:function(){return{data:{order:[],customer:{}},payMode:"",orderSum:0,isPayModalActive:!1}},created:function(){var t=this;l.a.post("/shops/quotes/"+this.$route.params.id).then((function(e){t.data=e.data.data,t.orderSum=t.data.total}))},computed:Object(o["a"])({},Object(n["b"])(["basic","shop"])),methods:{paySelectionModal:function(){this.isPayModalActive=!0},payBoxCancel:function(){this.isPayModalActive=!1},payBoxSelect:function(t){this.isPayModalActive=!1,this.payMode=t,this.submit()},submit:function(){var t=this;this.$buefy.toast.open({message:"Generando orden de compra, por favor espere...",queue:!1,duration:3e3}),l.a.post("/shops/payments/quote/".concat(this.data._id),{paymode:this.payMode}).then((function(e){"success"===e.data.status?setTimeout((function(){"mercadopago"===t.payMode?(t.$buefy.toast.open({message:"Recibiendo datos de mercadopago, por favor espere...",queue:!0}),localStorage.setItem("preference",JSON.stringify(e.data.data)),t.$router.push("/pagar")):(localStorage.removeItem("order"),t.$router.push("/gracias"))}),1e3):t.$buefy.toast.open({message:"Hubo un error al generar la orden de compra. Por favor, intente nuevamente en unos instantes.",type:"is-danger",queue:!0,duration:1e4})})).catch((function(e){t.$buefy.toast.open({message:"Hubo un error al generar la orden de compra. Por favor, intente nuevamente en unos instantes. Error: ".concat(e),type:"is-danger",queue:!1,duration:1e4})}))}}},_=C,g=Object(f["a"])(_,a,i,!1,null,null,null);e["default"]=g.exports},ac23:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{active:t.isModalActive,"has-modal-card":""},on:{"update:active":function(e){t.isModalActive=e}}},[s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head has-text-centered"},[s("p",{staticClass:"modal-card-title is-size-5 has-text-weight-bold"},[t._v("¿Cómo querés pagar?")])]),s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("div",{staticClass:"is-flex-center"},[t.shop.payment_methods?s("div",{staticClass:"buttons is-flex-center"},[s("div",{staticClass:"is-hidden-mobile"},[t.shop.payment_methods.includes("takeaway")?s("b-button",{attrs:{type:"is-info is-fullwidth is-small is-link is-size-6","icon-left":"car"},on:{click:function(e){return t.paySelect("takeaway")}}},[t._v("Retiro en sucursal")]):t._e(),t.shop.payment_methods.includes("cash")?s("b-button",{attrs:{type:"is-info is-fullwidth is-small is-link is-size-6","icon-left":"truck"},on:{click:function(e){return t.paySelect("cash")}}},[t._v("Envío a domicilio")]):t._e(),t.shop.payment_methods.includes("bank")?s("b-button",{attrs:{type:"is-success is-fullwidth is-small is-link is-size-6","icon-left":"bank"},on:{click:function(e){return t.paySelect("bank")}}},[t._v("CBU")]):t._e(),t.shop.payment_methods.includes("mercadopago")?s("b-button",{attrs:{type:"is-success is-fullwidth is-small is-link is-size-6","icon-left":"credit-card"},on:{click:function(e){return t.paySelect("mercadopago")}}},[t._v("Mercado Pago")]):t._e()],1),s("div",{staticClass:"is-hidden-tablet"},[s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-item"},[t.shop.payment_methods.includes("takeaway")?s("a",{staticClass:"button is-info",on:{click:function(e){return t.paySelect("takeaway")}}},[s("b-icon",{attrs:{icon:"car"}})],1):t._e()]),s("div",{staticClass:"level-item"},[t.shop.payment_methods.includes("cash")?s("a",{staticClass:"button is-info",on:{click:function(e){return t.paySelect("cash")}}},[s("b-icon",{attrs:{icon:"truck"}})],1):t._e()]),s("div",{staticClass:"level-item"},[t.shop.payment_methods.includes("bank")?s("a",{staticClass:"button is-success",on:{click:function(e){return t.paySelect("bank")}}},[s("b-icon",{attrs:{icon:"bank"}})],1):t._e()]),s("div",{staticClass:"level-item"},[t.shop.payment_methods.includes("mercadopago")?s("a",{staticClass:"button is-success",on:{click:function(e){return t.paySelect("mercadopago")}}},[s("b-icon",{attrs:{icon:"credit-card"}})],1):t._e()])])])]):t._e()])]),s("div",{staticClass:"column"},[s("div",{staticClass:"has-text-centered is-vpadded"},[s("img",{attrs:{src:"/img/art/credit-card.svg",width:"220"}})]),t.shop.payment_methods.includes("takeaway")?s("div",{staticClass:"has-text-dark"},[s("p",[t._v("La forma de pago "),s("b",[t._v("Retiro en sucursal")]),t._v(" no conlleva costos de envío y recibirás la dirección de la tienda por correo.")])]):t._e(),t.shop.payment_methods.includes("bank")?s("div",{staticClass:"has-text-dark"},[s("p",[t._v("La forma de pago "),s("b",[t._v("CBU")]),t._v(" implica una trasferencia electrónica y recibirás los datos de la cuenta bancaria de la tienda por correo.")])]):t._e()])])]),s("footer",{staticClass:"modal-card-foot is-flex-center"})])])},i=[],o=s("5530"),n=s("2f62"),c={name:"PaySelectionBox",props:{isActive:{type:Boolean,default:!1}},computed:Object(o["a"])({},Object(n["b"])(["shop"])),data:function(){return{isModalActive:!1}},methods:{goBack:function(){history.go(-1)},cancel:function(){this.$emit("cancel")},paySelect:function(t){this.$emit("pay-select",t)}},watch:{isActive:function(t){this.isModalActive=t},isModalActive:function(t){t||this.cancel()}}},l=c,r=s("2877"),d=Object(r["a"])(l,a,i,!1,null,null,null);e["a"]=d.exports},f983:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("modal-share",{attrs:{"is-active":t.isShareActive,"data-item":t.shop,"data-type":"shop"},on:{cancel:t.shareCancel}}),s("div",{staticClass:"is-header-component"},[s("div",{staticClass:"background",style:"background-image:url('"+t.shop.background+"')"},[s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"logo",style:"background-image:url('"+t.shop.logo+"')"})])],1),s("div",{staticClass:"columns column is-account-info"},[s("div",{staticClass:"column text content is-hidden-mobile"},[s("h1",{staticClass:"is-size-2 is-font-bold has-text-color has-text-weight-light"},[t._v(t._s(t.shop.shop))]),s("p",{staticClass:"description has-text-color"},[t._v(t._s(t.shop.text))])]),s("div",{staticClass:"column text content is-hidden-tablet"},[s("h1",{staticClass:"is-size-2 is-font-bold has-text-color has-text-centered"},[t._v(t._s(t.shop.shop))]),s("p",{staticClass:"has-text-color has-text-centered"},[t._v(t._s(t.shop.text))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.details,expression:"details"}],staticClass:"column is-share-icons animated fadeIn delay"},[s("b-field",{attrs:{grouped:"","group-multiline":""}},[s("p",{staticClass:"control"},[s("router-link",{attrs:{to:"/geo",title:"Conocé dónde ofrece "+t.shop.shop},on:{click:function(t){return this.$store.dispatch("event",{tag:"click",value:"geo"})}}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"mdi mdi-selection-marker mdi-24px has-text-color"})])])],1),t.shop.extra&&t.shop.extra.social?s("span",{staticClass:"extra"},t._l(t.shop.extra.social,(function(e,a){return s("p",{key:a,staticClass:"control"},[s("a",{attrs:{href:e.url,title:"Seguinos en "+e.icon,target:"_blank"},on:{click:function(s){return t.store.dispatch("event",{tag:"click",value:e.icon})}}},[s("span",{staticClass:"icon"},[s("i",{class:"mdi mdi-"+e.icon+" mdi-24px has-text-color"})])])])})),0):t._e(),s("p",{staticClass:"control"},[s("a",{attrs:{title:"Compartí "+t.shop.shop+" en tus redes sociales"},on:{click:function(e){return e.preventDefault(),t.shareModal.apply(null,arguments)}}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"mdi mdi-share-variant mdi-24px has-text-color"})])])])])],1)])])],1)},i=[],o=s("5530"),n=s("2f62"),c=s("072d"),l={name:"HeaderComponent",components:{ModalShare:c["a"]},props:{details:{type:Boolean,default:!1}},computed:Object(o["a"])({},Object(n["b"])(["shop"])),data:function(){return{isShareActive:!1}},methods:{shareModal:function(){this.$store.dispatch("event",{tag:"click",value:"share"}),this.isShareActive=!0},shareCancel:function(){this.isShareActive=!1}}},r=l,d=s("2877"),u=Object(d["a"])(r,a,i,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-7d944a9d.e4f11b2b.js.map